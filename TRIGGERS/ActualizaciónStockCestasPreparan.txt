CREATE OR REPLACE TRIGGER TRG_ACT_STOCKCESTAS_PR 
BEFORE INSERT ON PREPARAN 
FOR EACH ROW 
DECLARE
BEGIN
UPDATE CESTA set Stock = Stock +:new.cantidad where CESTA.ID = :new.ID_cesta;
EXCEPTION
  WHEN OTHERS THEN
  RAISE_APPLICATION_ERROR(-10001, 'Error en la auditoria');
END TRG_ACT_STOCKCESTAS_PR;